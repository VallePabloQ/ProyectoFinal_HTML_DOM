<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>DOM-Drawer</title>
    <style type="text/css">
    body,
    html {
      margin: 0;
      padding: 0;
      height: 100%;
    }
    
    .box {
      margin: 0 0px;
      overflow: hidden;
      height: 100%;
    }
    
    #main {
      float: left;
      width: 100%;
      height: 50%;
    }
    
    .input {
      float: left;
      width: 100%;
      border: 0;
      height: 50%;
    }
    #html,#areaNumeracion{
      height: 100%;
      border: 0;
      padding: 0;
      outline: none;
      background: #333;
      color: #eee;
      font-size: 16px;
      box-sizing:border-box;
      padding: 10px;
      line-height: 20px;
    }
    #areaNumeracion{
      width: 2%;
    }
    #html{
      width: 97%;
    }
    .colorHTML {
      color: blue;
    }
    </style>
  </head>
  
  <body>
    <div class="box">
        <form class="input">
          <textarea id="areaNumeracion" readonly></textarea>
          <textarea id="html" onkeyup="numeracion(event);"></textarea>
        </form>
      <div id="main"></div>
    </div>
    <script src="./js/bundle.js"></script>
    <script src="./js/main.js"></script>
    <script src="./js/parser.js"></script>
    <script src="./js/tokenizer.js"></script>
    <script>
      window.onload = function () {
        numeracion();
      };
      function numeracion(e) {
        let eArea = document.getElementById("areaNumeracion");
        let eArea2 = document.getElementById("html");
        let numeros = eArea2.value.split("\n").length;
        let msj = "";
        for (let i = 0; i < numeros; i++) {
          msj += i + 1 + "\n";
        }
        eArea.value = msj;
      }
      numeracion();

      var range = document.getElementsById("html");

      for (var i = 0; i < range.length; i++) {
        var matched = range[i].textContent.match(/<(.+?)>/g)
        if (matched) {
          matched.forEach(function(text) {
            var newtext = text.substring(1, text.length - 1);
            range[i].textContent = range[i].textContent.replace(text, '<span class="colorHTML">' + newtext + '</span>');
          });
        }
      }
    </script>
  </body>
</html>
